(this.webpackJsonp=this.webpackJsonp||[]).push([[24],{"5L1s":function(e,t,n){},E4sl:function(e,t,n){"use strict";n.r(t),n.d(t,"CodemaoAgreement",(function(){return k}));var a,c=n("ODXe"),r=n("q1tI"),o=n.n(r),s=n("02PQ"),i=n("HIk1"),l=(n("g2nZ"),function(e){e.children;var t=e.onClose,n=e.onNextClick,a=e.entryDialogText,l=Object(r.useState)(!0),m=Object(c.a)(l,2),g=m[0],u=m[1];return o.a.createElement(s.a,{show:g,closeBtn:!0,closeAnimation:!0,top:"center",layout:"custom",header:null,footer:null,onClose:t,mask:!0},o.a.createElement("div",{className:"CUI-entry-dialog-dialog"},o.a.createElement("div",{className:"CUI-entry-dialog-content"},a||"喵～发布作品前，需要先与魔术喵签订《社区友爱契约》哦！"),o.a.createElement("div",{className:"CUI-entry-dialog-footer"},o.a.createElement(i.a,{size:"md",type:"transparent-fb",className:"CUI-agreement-btn-cancel",onClick:function(){u(!1)},margin:"0 20px 0 0"},"下次再说"),o.a.createElement(i.a,{bgColor:"#FEC433",type:"transparent-fb",size:"md",onClick:n},"立即前往"))))}),m=n("HaE+"),g=n("o0o1"),u=n.n(g),d=n("iKuz"),C=n.n(d),E=(n("tF84"),{"./style_module.css":{container:"CUI-checkbox-container",checked:"CUI-checkbox-checked",icon:"CUI-checkbox-icon"}}),h=function(e){e.children;var t=e.checked,n=e.onChange,a=e.style,s=Object(r.useState)(!1),i=Object(c.a)(s,2),l=i[0],m=i[1],g=void 0===t,u=g?l:t;return o.a.createElement("div",{onClick:function(){var e=!u;g&&m(e),n&&n(e)},style:a,className:C()("container ".concat(u?"checked":""),E,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},o.a.createElement("div",{className:C()("icon  ".concat(u?"checked":""),E,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})}))},p=n("vDqi"),b=n.n(p),f=n("/PzZ"),v=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({url:"".concat(Object(f.a)().api.host,"/nemo/v3/user/level/signature"),method:"post",withCredentials:!0,data:{}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=(n("5L1s"),!1),I=function(e){e.children;var t=e.onClose,n=e.onSignSuccess,a=e.onSignError,l=Object(r.useState)(!1),g=Object(c.a)(l,2),d=g[0],C=g[1],E=Object(r.useState)(!0),p=Object(c.a)(E,2),b=p[0],f=p[1];return o.a.createElement(s.a,{show:b,closeBtn:{style:{top:18,right:18}},closeAnimation:!0,top:"center",layout:"custom",header:null,footer:null,onClose:t,mask:!0},o.a.createElement("div",{className:"CUI-sign-agreement-dialog-dialog"},o.a.createElement("div",{className:"CUI-sign-agreement-dialog-bg-top"}),o.a.createElement("div",{className:"CUI-sign-agreement-dialog-bg-left"}),o.a.createElement("div",{className:"CUI-sign-agreement-dialog-bg-bottom"}),o.a.createElement("div",{className:"CUI-sign-agreement-dialog-bg-right"}),o.a.createElement("div",{className:"CUI-sign-agreement-dialog-header"},"社区友好契约"),o.a.createElement("div",{className:"CUI-sign-agreement-dialog-content"},o.a.createElement("img",{className:"CUI-sign-agreement-dialog-agree-img",src:"https://kn-cdn.codemao.cn/catui2/contract_tip.2f14da2e.png"}),o.a.createElement("div",{className:"CUI-sign-agreement-dialog-agree-text-main"},o.a.createElement(h,{style:{marginRight:5},checked:d,onChange:C}),"我同意加入编程猫社区，在社区与其他小伙伴交流时，会文明友爱，遵守社区规则。"),o.a.createElement("div",{className:"CUI-sign-agreement-dialog-agree-text-tip"},"完成签订加入编程猫社区，与其他训练师一起发布作品、评论交流"),o.a.createElement("span",{className:"CUI-sign-agreement-dialog-sign-btn"},o.a.createElement(i.a,{disable:!d,bgColor:"#FEC433",size:"md",type:"transparent-fb",onClick:Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!N){e.next=3;break}return e.abrupt("return");case 3:return N=!0,e.next=6,v();case 6:n(),N=!1,f(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),N=!1,a&&a(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))},"确定签订")))))};!function(e){e[e.ENTRY=0]="ENTRY",e[e.SIGN=1]="SIGN",e[e.CLOSED=2]="CLOSED"}(a||(a={}));var k=function(e){e.children;var t=e.onClose,n=e.onSignSuccess,s=e.onSignError,i=e.entryDialogText,m=Object(r.useState)(a.ENTRY),g=Object(c.a)(m,2),u=g[0],d=g[1],C=function(){d(a.CLOSED),t&&t()};return o.a.createElement(o.a.Fragment,null,u===a.ENTRY&&o.a.createElement(l,{onNextClick:function(){return d(a.SIGN)},onClose:C,entryDialogText:i}),u===a.SIGN&&o.a.createElement(I,{onSignSuccess:function(){return n&&n()},onSignError:s,onClose:C}))}},g2nZ:function(e,t,n){},tF84:function(e,t,n){}}]);