(this.webpackJsonp=this.webpackJsonp||[]).push([[40],{"2/vW":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAfhJREFUaAXtmM1NxDAQhe3s8tPDUgBtIBCcOXHYBugBONIDDXCgBBAr2qAAtgd+Y/wizSqK7HhsT6RdaXzJbjJ+875xbEc2RptWQCugFdAKaAV2uAKW4925t8Pv9e+Nce64seZh7+h8xemXG/Pz8XLaOnNtrH3fX8zvrT35TGnMUwF43plv3S1+O2Muv9avy4PF2RP+SzWveeXa9tEnmPlCISek71L6TSqge+4rT3Fee2Z9IiSke7VXaEET2hutXs7NvcAPFgBeG2vNH/WXhAiZRy7kpHxjVxYA3nnXNEtpiJh55OLOM9YkpgqMJcydE1JaWQAAkUgsoUFFzQaohZA0Dy9FAKUQ0uarAHIhpjBfDcCFmMq8CEAKoksy2KSwHGOpzF25oDVsxXNgKBSrMuL6O6ykeWiLAUAsBIH71KTNQ1cUAIIxiCnMIx/rUwKB29pERyBWfYKfYhTEAELmYRjmt34Sx8xjqQTA8FtfciSqR2DMPK3znBiAlrQqgBxjObE5IMUAJYZK+qRgigBqjNT0DcFkA0gYkNAgmCwAycRSWmwAqYRUOVwlNFkAODHzm9HzFBtSDMLvFReckwnWtxCO+6Ywj1HAXhE6sumOGBGQaCwAnFWSjuQuSpohiH5OigtdWa/QNh/uhqD0nlZAK6AV0ApoBXamAv+JFCR8AVWnJgAAAABJRU5ErkJggg=="},dnhT:function(e,t,a){e.exports={wrapper:"wrapper--2afOq",flex1:"flex1--U9YLd",h_flex:"h_flex--3LsrE",v_center:"v_center--3e_e4",v_flex:"v_flex--2QWU9",vh_center:"vh_center--2varS",h_start:"h_start--pwP0I",h_end:"h_end--mTxHD",h_center:"h_center--3Oc1o",clickable:"clickable--2k1it",confirm:"confirm--1cOwF",dialog:"dialog--3pPVA",confirm_rename_dialog:"confirm_rename_dialog--14gYh",content:"content--rTR3v",showDialog:"showDialog--1y_b9","wrapper--appear--active":"wrapper--appear--active--32Ypa","wrapper--appear":"wrapper--appear--3kgOP",mask:"mask--3b1Dd",material:"material--2YiS4",showMask:"showMask--JM8X6",dialog_btn_close:"dialog_btn_close--3sWXc",layout:"layout--NzY4p",confirm_dialog_image:"confirm_dialog_image--2yB-g",tip_title:"tip_title--2l1Y9",btns:"btns--1B0F8",btn_combine:"btn_combine--mmufe",btn_rename:"btn_rename--26wfI","close-btn":"close-btn--20eMe","close-btn-act":"close-btn-act--2DCLS",show_actors:"show_actors--3hXT4",actor_box:"actor_box--1NzTk",actor_image_wrap:"actor_image_wrap--taYPj",project_image:"project_image--9-bHO",left_actor:"left_actor--1MPH_",right_actor:"right_actor--yvfhk",align_center:"align_center--GjxyO",duplicated_var_list:"duplicated_var_list--2obHI",var_tspan:"var_tspan--3bV3p",var_list_box:"var_list_box--qIeCj",var_list:"var_list--1VOLf",var_item:"var_item--ObhRP",var_item_list:"var_item_list--3ufLE",var_text:"var_text--anDdz",ellipsis:"ellipsis--TlH6D",combine_animate:"combine_animate--cFCy5",transitLeftActor:"transitLeftActor--3Ymoh",transitRightActor:"transitRightActor--RlvN-",left_var_box:"left_var_box--5Q_EH",transitLeftVars:"transitLeftVars--lNIKo",right_var_box:"right_var_box--2VnFV",transitRightVars:"transitRightVars--3YNJq",rename_animate:"rename_animate--2mps9",blink:"blink--1Llpf"}},"m/Ex":function(e,t,a){"use strict";a.r(t),a.d(t,"ConfirmRenameDialogComponent",(function(){return j}));var i=a("MVZn"),r=a.n(i),n=a("lwsE"),s=a.n(n),o=a("W8MJ"),_=a.n(o),l=a("a1gu"),c=a.n(l),m=a("Nsbk"),p=a.n(m),v=a("7W2i"),h=a.n(v),d=a("BkRI"),g=a.n(d),b=a("kNvX"),u=a.n(b),f=a("q1tI"),A=a("2OET"),x=a("/MKj"),w=a("ANjH"),y=a("CG87"),k=a("e/E2"),E=a("HP1x"),N=a("G72A"),M=(a("dnhT"),{"./style.scss":{flex1:"flex1--U9YLd",h_flex:"h_flex--3LsrE",v_center:"v_center--3e_e4",v_flex:"v_flex--2QWU9",vh_center:"vh_center--2varS",h_start:"h_start--pwP0I",h_end:"h_end--mTxHD",h_center:"h_center--3Oc1o",clickable:"clickable--2k1it",wrapper:"wrapper--2afOq",confirm:"confirm--1cOwF",dialog:"dialog--3pPVA",content:"content--rTR3v",showDialog:"showDialog--1y_b9","wrapper--appear--active":"wrapper--appear--active--32Ypa","wrapper--appear":"wrapper--appear--3kgOP",mask:"mask--3b1Dd",material:"material--2YiS4",showMask:"showMask--JM8X6",dialog_btn_close:"dialog_btn_close--3sWXc",confirm_rename_dialog:"confirm_rename_dialog--14gYh",layout:"layout--NzY4p",confirm_dialog_image:"confirm_dialog_image--2yB-g",tip_title:"tip_title--2l1Y9",btns:"btns--1B0F8",btn_combine:"btn_combine--mmufe",btn_rename:"btn_rename--26wfI","close-btn":"close-btn--20eMe","close-btn-act":"close-btn-act--2DCLS",show_actors:"show_actors--3hXT4",actor_box:"actor_box--1NzTk",actor_image_wrap:"actor_image_wrap--taYPj",project_image:"project_image--9-bHO",left_actor:"left_actor--1MPH_",right_actor:"right_actor--yvfhk",align_center:"align_center--GjxyO",duplicated_var_list:"duplicated_var_list--2obHI",var_tspan:"var_tspan--3bV3p",var_list_box:"var_list_box--qIeCj",var_list:"var_list--1VOLf",var_item:"var_item--ObhRP",var_item_list:"var_item_list--3ufLE",var_text:"var_text--anDdz",ellipsis:"ellipsis--TlH6D",combine_animate:"combine_animate--cFCy5",transitLeftActor:"transitLeftActor--3Ymoh",transitRightActor:"transitRightActor--RlvN-",left_var_box:"left_var_box--5Q_EH",transitLeftVars:"transitLeftVars--lNIKo",right_var_box:"right_var_box--2VnFV",transitRightVars:"transitRightVars--3YNJq",rename_animate:"rename_animate--2mps9",blink:"blink--1Llpf"}});var O=function(e){function t(e){var a;return s()(this,t),(a=c()(this,p()(t).call(this,e))).rename_animate_timer=void 0,a.state={project_img_url:"",hover_animate:"",new_vars:[]},a}return h()(t,e),_()(t,[{key:"componentDidMount",value:function(){var e=this;Object(k.K)(),Object(E.a)().screenshot(void 0,.3).then((function(t){e.setState(r()({},e.state,{project_img_url:t}))})).catch((function(e){return console.log(e)})),this.on_project_img_load.bind(this),this.setState(r()({},this.state,{new_vars:g()(this.props.confirm_rename_dialog_setting.duplicated_var)}))}},{key:"componentWillUnmount",value:function(){Object(k.l)(),this.props.set_dialog_props({confirm_rename_dialog_setting:void 0})}},{key:"on_request_close",value:function(){this.props.close_dialog({dialog_type:"confirm_rename"})}},{key:"render_duplicated_var",value:function(e){var t=this,a=!1;e.length>3&&(a=!0,e=e.slice(0,3));var i=e.map((function(e,a){return f.createElement("div",{key:e.id,style:"rename"===t.state.hover_animate?{animationDelay:"".concat(100*a,"ms")}:{},className:u()("var_item ".concat("any"===e.type?"":"var_item_list"),M,{autoResolveMultipleImports:!0,handleMissingStyleName:"warn"})},f.createElement("span",{className:"var_text--anDdz"},e.name,f.createElement("span",{className:"var_tspan--3bV3p"},"â–¾")))}));return a&&i.push(f.createElement("div",{className:"ellipsis--TlH6D"},f.createElement("svg",{height:"26",width:"6"},f.createElement("circle",{cx:"3",cy:"2",r:"2",fill:"#FFC063",opacity:"0.5"}),f.createElement("circle",{cx:"3",cy:"10",r:"2",fill:"#FFC063",opacity:"0.5"}),f.createElement("circle",{cx:"3",cy:"18",r:"2",fill:"#FFC063",opacity:"0.5"})))),i}},{key:"on_project_img_load",value:function(e){var t=e.target;t.width>t.height?(t.style.maxHeight="100%",t.style.maxWidth=""):(t.style.maxWidth="100%",t.style.maxHeight="")}},{key:"on_combine_btn_hover",value:function(e){this.setState(r()({},this.state,{hover_animate:e?"combine":""}))}},{key:"on_rename_btn_hover",value:function(e){e||clearTimeout(this.rename_animate_timer),this.setState(r()({},this.state,{hover_animate:e?"rename":"",new_vars:this.props.confirm_rename_dialog_setting.duplicated_var}),e?this.update_var_val.bind(this):void 0)}},{key:"update_var_val",value:function(){var e=this,t=g()(this.state.new_vars),a=g()(this.props.confirm_rename_dialog_setting.renamed_vars);!function i(n){a[n]&&(t[n]=a[n],e.setState(r()({},e.state,{new_vars:t}),(function(){n++,e.rename_animate_timer=setTimeout(i.bind(e,n),100)})))}(0)}},{key:"render",value:function(){if(!this.props.is_open)return f.createElement("div",null);var e=this.props.confirm_rename_dialog_setting,t=e.entity_num,i=e.duplicated_var,r=e.display_style,n=this.state.hover_animate?"".concat(this.state.hover_animate,"_animate"):"";return f.createElement(y.a,{type:"confirm_rename",on_request_close:this.on_request_close.bind(this),close_btn:!1},e?f.createElement("div",{className:"confirm_rename_dialog--14gYh"},f.createElement("div",{className:"close-btn--20eMe",onClick:this.on_request_close.bind(this)},f.createElement("img",{src:a("2/vW"),className:"close-btn-act--2DCLS"})),f.createElement("div",{className:"layout--NzY4p"},f.createElement("div",null,f.createElement("div",{className:"tip_title--2l1Y9"},this.props.intl.formatMessage({id:"duplicated_var/ask_for_rename_1"}),f.createElement("span",{style:{color:"red"}},i.length),this.props.intl.formatMessage({id:"duplicated_var/ask_for_rename_2"})))),f.createElement("div",{className:u()("show_actors ".concat(n),M,{autoResolveMultipleImports:!0,handleMissingStyleName:"warn"})},f.createElement("div",{className:"actor_box--1NzTk left_actor--1MPH_"},f.createElement("div",{className:"actor_image_wrap--taYPj",style:{zIndex:2}},f.createElement("img",{src:r.url||r.cdn_url||r.base64_url})),t>1?f.createElement("div",{className:"actor_image_wrap--taYPj",style:{zIndex:1,position:"absolute",left:"5px",top:"5px"}}):null,t>2?f.createElement("div",{className:"actor_image_wrap--taYPj",style:{position:"absolute",left:"10px",top:"10px"}}):null),f.createElement("div",{className:"actor_box--1NzTk right_actor--yvfhk"},f.createElement("div",{className:"project_image--9-bHO"},f.createElement("img",{src:this.state.project_img_url,onLoad:this.on_project_img_load})))),f.createElement("div",{className:u()("duplicated_var_list ".concat(n),M,{autoResolveMultipleImports:!0,handleMissingStyleName:"warn"})},f.createElement("div",{className:"var_list_box--qIeCj left_var_box--5Q_EH"},f.createElement("div",{className:"var_list--1VOLf"},this.render_duplicated_var("rename"===this.state.hover_animate?this.state.new_vars:i))),f.createElement("div",{className:"var_list_box--qIeCj right_var_box--2VnFV"},f.createElement("div",{className:"var_list--1VOLf"},this.render_duplicated_var(i)))),f.createElement("div",{className:"btns--1B0F8"},e.btn_combine&&f.createElement("div",{className:"btn_combine--mmufe",onClick:e.btn_combine.callback.bind(this),onMouseOver:this.on_combine_btn_hover.bind(this,!0),onMouseLeave:this.on_combine_btn_hover.bind(this,!1)},this.props.intl.formatMessage({id:e.btn_combine.text})),e.btn_rename&&f.createElement("div",{onClick:e.btn_rename.callback.bind(this),onMouseOver:this.on_rename_btn_hover.bind(this,!0),onMouseLeave:this.on_rename_btn_hover.bind(this,!1),className:u()("btn_rename",M,{autoResolveMultipleImports:!0,handleMissingStyleName:"warn"})},this.props.intl.formatMessage({id:e.btn_rename.text})))):"")}}]),t}(f.Component);var j=Object(A.b)(Object(x.connect)((function(e){return{is_open:e.dialog_state.display.confirm_rename,confirm_rename_dialog_setting:e.dialog_state.setting.confirm_rename_dialog_setting}}),(function(e){return Object(w.bindActionCreators)({close_dialog:N.c,set_dialog_props:N.f},e)}))(O))}}]);