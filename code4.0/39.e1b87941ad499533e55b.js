(this.webpackJsonp=this.webpackJsonp||[]).push([[39],{K1RJ:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var c=n("lwsE"),i=n.n(c),a=n("W8MJ"),o=n.n(a),r=n("a1gu"),l=n.n(r),u=n("Nsbk"),s=n.n(u),f=n("7W2i"),d=n.n(f),b=n("Hpnk"),p=n("dqaR"),h=n("q9ez"),v=function(e){return p.a.get_store().dispatch(e)},_=new(function(e){function t(){var e;i()(this,t);return(e=l()(this,s()(t).call(this))).on(t.Event.READY,(function(){v(Object(h.g)(!0))})),e.on(t.Event.DISCONNECT,(function(){v(Object(h.g)(!1))})),e.onNotify("SERIALPORT_LIST",(function(e){v(Object(h.i)(e))})),e}return d()(t,e),o()(t,[{key:"invoke",value:function(e){for(var t=e.split("."),n=arguments.length,c=new Array(n>1?n-1:0),i=1;i<n;i++)c[i-1]=arguments[i];return this.call(t,c)}}]),t}(b.a));window.clink=_}).call(this,n("tjlA").Buffer)},p0oF:function(e,t,n){"use strict";n.r(t),n.d(t,"DeviceWidgetConnectDialog",(function(){return p}));var c=n("+c4W"),i=n.n(c),a=n("q1tI"),o=n.n(a),r=n("/MKj"),l=n("Vbab"),u=n("CG87"),s=n("X8LL"),f=n("q9ez"),d=(n("rRRm"),n("7Me5")),b=n("K1RJ");var p=function(){var e=Object(r.useDispatch)(),t=Object(r.useSelector)(i()("device_widget_state")),n=t.widget_type,c=t.link_ready,p=t.port_list,h=(t.path,t.connected);return Object(a.useEffect)((function(){b.a.start()}),[]),Object(a.useEffect)((function(){return c?(setTimeout((function(){b.a.invoke("serialport.enableScan")}),1e3),function(){b.a.invoke("serialport.disableScan")}):function(){}}),[c]),o.a.createElement(u.a,{type:"device_widget_connect",close_btn:!1,close_on_mask_click:!0,on_request_close:function(){e(Object(s.d)({dialog_type:"device_widget_connect"}))}},o.a.createElement("div",{className:"box--2_Od6"},o.a.createElement("div",{className:"title--3Qicp"},Object(l.i)().formatMessage({id:"hardware/connect_dialog/connect_hardware"})),o.a.createElement("div",null,p.map((function(t){return o.a.createElement("div",{key:t.path},o.a.createElement("span",null,t.path),!h&&o.a.createElement("button",{onClick:function(){return function(t){null!==n&&d.a.connect(n,t).then((function(){e(Object(f.e)(!0)),e(Object(f.h)(t)),b.a.invoke("serialport.disableScan")})).catch(console.warn)}(t.path)}},"连接"))})),h&&o.a.createElement("button",{onClick:function(){null!==n&&d.a.disconnect(n).then((function(){e(Object(f.e)(!1)),e(Object(f.h)(null)),e(Object(f.i)([])),b.a.invoke("serialport.enableScan")})).catch(console.warn)}},"断开"))))}},rRRm:function(e,t,n){e.exports={box:"box--2_Od6",title:"title--3Qicp"}}}]);