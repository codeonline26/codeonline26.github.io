(this.webpackJsonp=this.webpackJsonp||[]).push([[75],{Yqjj:function(t,e,o){"use strict";o.r(e),o.d(e,"DebugDraw",(function(){return s}));var r=o("Pcni"),n=o("ucDc"),i=o("49df");class s extends r.Draw{constructor(t){super(),this.m_ctx=null,this.half_width=310,this.half_height=450,this.m_ctx=t.getContext("2d"),this.half_width=t.width/2,this.half_height=t.height/2}set_world(t){this.world=t}PushTransform(t){const e=this.m_ctx;e&&(e.save(),e.translate(Object(i.n)(t.p.x)+this.half_width,Object(i.n)(t.p.y)+this.half_height),e.rotate(t.q.GetAngle()))}PopTransform(t){const e=this.m_ctx;e&&e.restore()}DrawPolygon(t,e,o){const r=this.m_ctx;if(r){r.beginPath(),r.moveTo(Object(i.n)(t[0].x),Object(i.n)(t[0].y));for(let o=1;o<e;o++)r.lineTo(Object(i.n)(t[o].x),Object(i.n)(t[o].y));r.closePath(),r.strokeStyle=o.MakeStyleString(1),r.stroke()}}DrawSolidPolygon(t,e,o){.9===o.r&&o.SetRGB(.9,.9,.9);const r=this.m_ctx;if(r){r.beginPath(),r.moveTo(Object(i.n)(t[0].x),Object(i.n)(t[0].y));for(let o=1;o<e;o++)r.lineTo(Object(i.n)(t[o].x),Object(i.n)(t[o].y));r.closePath(),r.fillStyle=o.MakeStyleString(.1),r.fill(),r.strokeStyle=o.MakeStyleString(1),r.stroke()}}DrawCircle(t,e,o){const n=this.m_ctx;n&&(n.beginPath(),n.arc(Object(i.n)(t.x),Object(i.n)(t.y),e,0,2*r.pi,!0),n.strokeStyle=o.MakeStyleString(1),n.stroke())}DrawSolidCircle(t,e,o,n){const s=this.m_ctx;if(s){const l=Object(i.n)(t.x),c=Object(i.n)(t.y);s.beginPath(),s.arc(l,c,e,0,2*r.pi,!0),s.moveTo(l,c),s.lineTo(l+o.x*e,c+o.y*e),s.fillStyle=n.MakeStyleString(.5),s.fill(),s.strokeStyle=n.MakeStyleString(1),s.stroke()}}DrawParticles(t,e,o,n){if(this.m_ctx)for(let s=0;s<n;++s){const n=t[s],l=(null==o?void 0:o[s])||new r.Color(255,255,255,.5);this.m_ctx.fillStyle=l.MakeStyleString(),this.m_ctx.beginPath(),this.m_ctx.arc(Object(i.n)(n.x),Object(i.n)(n.y),Object(i.n)(e),0,2*r.pi,!0),this.m_ctx.fill()}}DrawParticleTriads(t,e){var o;if(this.m_ctx){(null===(o=this.world)||void 0===o?void 0:o.body_list)&&(e=[],this.world.body_list.forEach(t=>{var o;const r=t.get_current_physics_body();if(r.type!==n.a.ELASTIC)return;const i=r.particle_group.m_firstIndex;null===(o=r.soft_filter)||void 0===o||o.triangle_top_points.forEach(t=>{e.push([t[0]+i,t[1]+i,t[2]+i])})}));for(let o=0;o<e.length;o++){const[r,n,s]=e[o],l=t[r],c=t[n],a=t[s];l&&c&&a?(this.m_ctx.fillStyle="rgba(0,0,0,0.5)",this.m_ctx.beginPath(),this.m_ctx.moveTo(Object(i.n)(l.x),Object(i.n)(l.y)),this.m_ctx.lineTo(Object(i.n)(c.x),Object(i.n)(c.y)),this.m_ctx.lineTo(Object(i.n)(a.x),Object(i.n)(a.y)),this.m_ctx.closePath(),this.m_ctx.stroke()):console.error("Invalid triangle: ",e[o])}}}DrawSegment(t,e,o){const r=this.m_ctx;r&&(r.beginPath(),r.moveTo(Object(i.n)(t.x),Object(i.n)(t.y)),r.lineTo(Object(i.n)(e.x),Object(i.n)(e.y)),r.strokeStyle=o.MakeStyleString(1),r.stroke())}DrawTransform(t){const e=this.m_ctx;e&&(this.PushTransform(t),e.beginPath(),e.moveTo(0,0),e.lineTo(1,0),e.strokeStyle=r.Color.RED.MakeStyleString(1),e.stroke(),e.beginPath(),e.moveTo(0,0),e.lineTo(0,1),e.strokeStyle=r.Color.GREEN.MakeStyleString(1),e.stroke(),this.PopTransform(t))}DrawPoint(t,e,o){const r=this.m_ctx;if(r){r.fillStyle=o.MakeStyleString();const n=e/2;r.fillRect(t.x-n,t.y-n,e,e)}}DrawString(t,e,o){const r=this.m_ctx;if(r){r.save(),r.setTransform(1,0,0,1,0,0),r.font="15px DroidSans";const n=s.DrawString_s_color;r.fillStyle=n.MakeStyleString(),r.fillText(o,Object(i.n)(t),Object(i.n)(e)),r.restore()}}DrawStringWorld(t,e,o){const r=this.m_ctx;if(r){const n=s.DrawStringWorld_s_p.Set(t,e);r.save(),r.setTransform(1,0,0,1,0,0),r.font="15px DroidSans";const i=s.DrawStringWorld_s_color;r.fillStyle=i.MakeStyleString(),r.fillText(o,n.x,n.y),r.restore()}}DrawAABB(t,e){const o=this.m_ctx;if(o){o.strokeStyle=e.MakeStyleString();const r=Object(i.n)(t.lowerBound.x),n=Object(i.n)(t.lowerBound.y),s=Object(i.n)(t.upperBound.x-t.lowerBound.x),l=Object(i.n)(t.upperBound.y-t.lowerBound.y);o.strokeRect(r,n,s,l)}}}s.DrawString_s_color=new r.Color(.9,.6,.6),s.DrawStringWorld_s_p=new r.Vec2,s.DrawStringWorld_s_color=new r.Color(.5,.9,.5)}}]);